<!-- The responsive navbar code for all of the former html (now ejs) pages (e.g. about, home, etc) localized in a partial to reduce redundancy-->
<div class="navbar bg-base-100">
    <div class="flex-1">
      <a class="btn btn-ghost normal-case text-xl" href = '/' >Lego Collection</a>
    </div>

    <!--Responsive Navbar stuff-->
    <div class="dropdown">
        <label tabindex="0" class="btn btn-ghost sm:hidden">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
        </label>
        <ul tabindex="0" class="menu menu-sm dropdown-content right-0 mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
            <!--The 'active' property checks if the page is active (see the corresponding implementation in the about.ejs file for ex), if so then its highlighted and can't be clicked again-->
          <li><a class="<%= (page == '/about') ? 'active' : '' %>" href="/about">About</a></li>
          <li><a class="<%= (page == '/lego/sets') ? 'active' : '' %>" href="/lego/sets">View Collection</a></li>
        </ul>
      </div>
  
    <div class="navbar-center hidden sm:flex"> <!--Responsive Navbar-->
      <ul class="menu menu-horizontal px-1">
        <li><a class="<%= (page == '/about') ? 'active' : '' %>" href="/about">About</a></li>
        <li><a class="<%= (page == '/lego/sets') ? 'active' : '' %>" href="/lego/sets">View Collection</a></li>
        <!--Display these links only if the user is logged in-->
        <% if(session.user) { %> 
          <li>
            <details>
              <summary>Account: <%= session.user.userName %></summary>
              <ul class="p-2 right-0">
                <li><a class="<%= (page == '/lego/addSet') ? 'active' : '' %>" href="/lego/addSet">Add to Collection</a></li>
                <li><a class="<%= (page == '/userHistory') ? 'active' : '' %>" href="/userHistory">User History</a></li>
                <li><a href="/logout">Log Out</a></li>
              </ul>
            </details>
          </li>          
        <% } %>
        <!--If the user is not logged in, display the login/register pages instead-->
        <% if (!session.user) { %>
          <li>
            <details>
              <summary>Account</summary>
              <ul class="p-2 right-0">
                <li><a class="<%= (page == '/login') ? 'active' : '' %>" href="/login">Login</a></li>
                <li><a class="<%= (page == '/register') ? 'active' : '' %>" href="/register">Register</a></li>
              </ul>
            </details>
          </li>     
        <% } %> 
      </ul>
    </div>
  </div>